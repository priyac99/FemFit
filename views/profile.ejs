<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
</head>
<body style="background-color:whitesmoke">

    <%- include('partials/navbar') %>

    <div class="container" style="margin-top: 3rem;">
    <h1>Hey there, Wonder Woman! </h1>
    <br>
    <p> <b>Username:</b> <%=user.username%></p>
    <p> <b>Email:</b> <%=user.email%></p>
    <p> <b>Phone Number:</b> <%=user.phoneNo%></p>
    <p style="display: none;" id="bmiArr"> <%=bmi%></p>

    <canvas id="myChart" ></canvas>
<script>
    var ctx = document.getElementById('myChart').getContext('2d');
    let bmiArr = document.querySelector("#bmiArr").innerText.trim().split(",")
    bmiArr = bmiArr.map((el)=>+el)
    console.log(bmiArr);

    let l = []
    for(let i =1;i<=bmiArr.length;i++)
    {
        l.push(i);
    }
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels:l,
        datasets: [{
            
            label: 'BMI',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: bmiArr
        }]
    },

    // Configuration options go here
    options: {}
});

chart.canvas.parentNode.style.height = '40vh';
chart.canvas.parentNode.style.width = '50%';
</script>
    </div>

</body>
</html>